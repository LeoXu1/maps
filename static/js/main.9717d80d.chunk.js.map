{"version":3,"sources":["MapChart.js","CityResults.js","App.js","filterCities.js","index.js"],"names":["MapChart","setTooltipContent","coords","selectCity","size","data-tip","projection","geography","geographies","map","geo","stroke","strokeWidth","fill","rsmKey","id","loc","city","stateID","county","military","coordinates","onMouseEnter","name","concat","onMouseLeave","onClick","style","default","opacity","hover","r","memo","CityResults","lng","lat","cty","st","ct","info","this","props","citySelect","setInfo","className","cityData","handleClick","state_id","county_name","population","React","Component","App","handleSearchChange","event","setState","state","target","value","handleCityClick","newCoords","handleCheckbox","milOnly","checked","isSelected","setContent","content","tooltip","query","selectedState","numResults","filter","searchText","stateSearch","maxResults","type","onChange","allStates","val","citiesList","toLowerCase","includes","state_name","slice","handleRemove","for","multiline","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.9717d80d.chunk.js","sourcesContent":["import React, { memo } from \"react\";\r\nimport {\r\n  ZoomableGroup,\r\n  ComposableMap,\r\n  Geographies,\r\n  Geography,\r\n  Marker\r\n} from \"react-simple-maps\";\r\n\r\nconst geoUrl =\r\n  \"https://cdn.jsdelivr.net/npm/us-atlas@3/states-10m.json\";\r\n\r\nconst MapChart = ({setTooltipContent, coords, selectCity, size}) => {\r\n  return (\r\n    <>\r\n      <ComposableMap data-tip='' projection=\"geoAlbersUsa\">\r\n        <ZoomableGroup>\r\n          <Geographies geography={geoUrl}>\r\n            {({ geographies }) =>\r\n              geographies.map(geo => (\r\n                <Geography\r\n                  key={geo.rsmKey}\r\n                  stroke='#aaa'\r\n                  strokeWidth='0.5'\r\n                  geography={geo}\r\n                  fill={\"#d6d6d6\"}\r\n                />\r\n\r\n              ))\r\n            }\r\n          </Geographies>\r\n          {coords.map(({id, loc, city, stateID, county, military}) => (\r\n            <Marker\r\n            key = {id}\r\n            coordinates={loc}\r\n            onMouseEnter={() => {\r\n              const name = city.concat(\", \",stateID,)\r\n              const mil = military == \"TRUE\"\r\n              if (mil){\r\n                setTooltipContent(<div>{name}<br />{county}<br />Military base</div>);\r\n              } else {\r\n                setTooltipContent(<div>{name}<br />{county}</div>);\r\n              }\r\n            }}\r\n            onMouseLeave={() => {\r\n              setTooltipContent(\"\");\r\n            }}\r\n            onClick={() => {\r\n              selectCity({id: id, city: city, stateID: stateID, county: county, military: military});\r\n              setTooltipContent(\"\");\r\n            }}\r\n            style={\r\n            {\r\n              default: {\r\n                opacity: 0.5\r\n              },\r\n              hover: {\r\n                opacity: 1\r\n              }\r\n            }}\r\n            >\r\n            <circle r={size} fill=\"#0079d3\" stroke=\"#000\" strokeWidth={0.5} />\r\n            </Marker>\r\n          ))}\r\n        </ZoomableGroup>\r\n      </ComposableMap>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default memo(MapChart);\r\n","import React from 'react';\r\nimport \"./CityResults.css\"\r\n\r\nexport default class CityResults extends React.Component {\r\n\r\n  handleClick(id, lng, lat, cty, st, ct, military) {\r\n    const info = {\r\n      id: id,\r\n      loc: [lng, lat],\r\n      city: cty,\r\n      stateID: st,\r\n      county: ct,\r\n      military: military\r\n    }\r\n    this.props.citySelect(info)\r\n    this.props.setInfo(info)\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"resultsList\">\r\n        {this.props.cityData.map(cityData => (\r\n          <div\r\n          key={cityData.id}\r\n          onClick={() => this.handleClick(cityData.id, cityData.lng,\r\n            cityData.lat, cityData.city, cityData.state_id,\r\n            cityData.county_name, cityData.military)}\r\n          className=\"cityEntry\">\r\n            <h5>{cityData.city}, {cityData.state_id}</h5>\r\n            <h5>{cityData.population}</h5>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport './App.css';\r\nimport \"./styles.css\";\r\nimport MapChart from \"./MapChart\";\r\nimport filterCities from \"./filterCities\"\r\nimport CityResults from \"./CityResults\"\r\nimport allStates from \"./allStates.json\"\r\nimport ReactTooltip from \"react-tooltip\";\r\n\r\nexport default class App extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      tooltip: \"\",\r\n      size: 3,\r\n      coords: [],\r\n      query: \"\",\r\n      selectedState: \"\",\r\n      numResults: 20,\r\n      milOnly: \"FALSE\",\r\n      city: \"New York\",\r\n      stateID: \"NY\",\r\n      county: \"New York\",\r\n      id: \"\",\r\n      military: \"FALSE\",\r\n      isSelected: false\r\n    };\r\n  }\r\n\r\n  handleSearchChange = event => {\r\n    this.setState({\r\n      ...this.state,\r\n      [event.target.name]: event.target.value\r\n    });\r\n  };\r\n\r\n  handleCityClick = loc => {\r\n    const newCoords = this.state.coords.concat(loc)\r\n    this.setState({\r\n      coords: newCoords,\r\n    });\r\n  };\r\n\r\n  handleRemove(id) {\r\n    const newCoords = this.state.coords.filter(cty => cty.id !== id)\r\n    this.setState({\r\n      coords: newCoords,\r\n      isSelected: false\r\n    });\r\n  };\r\n\r\n  handleCheckbox = event => {\r\n    this.setState({\r\n      milOnly: event.target.checked ? \"TRUE\" : \"FALSE\"\r\n    });\r\n  }\r\n\r\n  setInfo = info => {\r\n    this.setState({\r\n      city: info.city,\r\n      stateID: info.stateID,\r\n      county: info.county,\r\n      id: info.id,\r\n      military: info.military,\r\n      isSelected: true\r\n    })\r\n  }\r\n\r\n  setContent = content => {\r\n    this.setState({\r\n      tooltip: content\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const isLAorAK = this.state.stateID === \"LA\" || this.state.stateID === \"AK\"\r\n    const isLA = this.state.stateID === \"LA\"\r\n    return (\r\n      <div className=\"base\">\r\n        <div className=\"container\">\r\n          <h1>Search</h1>\r\n          <div className=\"header\">\r\n            <input type=\"text\" name=\"query\" onChange={this.handleSearchChange}/>\r\n            <select name=\"selectedState\" onChange={this.handleSearchChange}>\r\n              {allStates.map(state => (\r\n                <option key={state.val}>{state.id}</option>\r\n              ))}\r\n            </select>\r\n            <select name=\"numResults\" onChange={this.handleSearchChange}>\r\n              <option>20</option>\r\n              <option>50</option>\r\n              <option>75</option>\r\n              <option>100</option>\r\n            </select>\r\n            <span>Military?</span>\r\n            <input type=\"checkbox\" name=\"milOnly\" onChange={this.handleCheckbox}/>\r\n          </div>\r\n          <CityResults\r\n          citySelect={this.handleCityClick}\r\n          setInfo={this.setInfo}\r\n          cityData={filterCities(this.state.query,this.state.selectedState,this.state.numResults,\r\n                                this.state.milOnly)}\r\n          />\r\n        </div>\r\n        <div className=\"container\">\r\n        <h1>Map</h1>\r\n          {this.state.isSelected ? (\r\n            <>\r\n              <div className=\"header\">\r\n                <button onClick={() => this.handleRemove(this.state.id)}>Delete</button>\r\n                <div className=\"form\">\r\n                  <label for=\"size\">\r\n                    Size:\r\n                  </label>\r\n                  <input type=\"number\" value={this.state.size} name=\"size\" onChange={this.handleSearchChange}/>\r\n                </div>\r\n              </div>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <div className=\"header\">\r\n                <span>No city selected</span>\r\n                <div className=\"form\">\r\n                  <label for=\"size\">\r\n                    Size:\r\n                  </label>\r\n                  <input type=\"number\" value={this.state.size} name=\"size\" onChange={this.handleSearchChange}/>\r\n                </div>\r\n              </div>\r\n            </>\r\n          )}\r\n          <MapChart\r\n          coords={this.state.coords}\r\n          setTooltipContent={this.setContent}\r\n          selectCity={this.setInfo}\r\n          size={this.state.size}\r\n          />\r\n          <ReactTooltip multiline={true}>{this.state.tooltip}</ReactTooltip>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import citiesList from \"./citiesList.json\";\r\n\r\nexport default function filterCities(searchText, stateSearch, maxResults, milOnly) {\r\n  if (milOnly === \"FALSE\") {\r\n    if (stateSearch !== \"\") {\r\n      return citiesList\r\n        .filter(city => {\r\n          if (city.city.toLowerCase().includes(searchText.toLowerCase())\r\n              && city.state_name.toLowerCase() === stateSearch.toLowerCase()) {\r\n            return true;\r\n          }\r\n          return false;\r\n        })\r\n        .slice(0, maxResults);\r\n    }\r\n    else {\r\n      return citiesList\r\n        .filter(city => {\r\n          if (city.city.toLowerCase().includes(searchText.toLowerCase())) {\r\n            return true;\r\n          }\r\n          return false;\r\n        })\r\n        .slice(0, maxResults);\r\n    }\r\n  }\r\n  else {\r\n    if (stateSearch !== \"\") {\r\n      return citiesList\r\n        .filter(city => {\r\n          if (city.city.toLowerCase().includes(searchText.toLowerCase())\r\n              && city.state_name.toLowerCase() === stateSearch.toLowerCase()\r\n              && city.military === \"TRUE\") {\r\n            return true;\r\n          }\r\n          return false;\r\n        })\r\n        .slice(0, maxResults);\r\n    }\r\n    else {\r\n      return citiesList\r\n        .filter(city => {\r\n          if (city.city.toLowerCase().includes(searchText.toLowerCase())\r\n              && city.military === \"TRUE\") {\r\n            return true;\r\n          }\r\n          return false;\r\n        })\r\n        .slice(0, maxResults);\r\n    }\r\n  }\r\n\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App'\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nReactDOM.render(<App />, rootElement);\r\n"],"sourceRoot":""}